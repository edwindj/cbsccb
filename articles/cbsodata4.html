<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Intro: cbsodata4 • cbsodata4</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Intro: cbsodata4">
<meta property="og:description" content="cbsodata4">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cbsodata4</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/cbsodata4.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/statistiekcbs/cbsodata4/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Intro: cbsodata4</h1>
            <h3 class="subtitle">Access to all CBS / Statistics Netherlands data</h3>
            
      
      <small class="dont-index">Source: <a href="https://github.com/statistiekcbs/cbsodata4/blob/master/vignettes/cbsodata4.Rmd"><code>vignettes/cbsodata4.Rmd</code></a></small>
      <div class="hidden name"><code>cbsodata4.Rmd</code></div>

    </div>

    
    
<p><a href="https://www.cbs.nl">Statistics Netherlands (CBS)</a> is the office that produces all official statistics of the Netherlands.</p>
<p>For long CBS has put its data on the web in its online database <a href="https://opendata.cbs.nl/statline#/CBS/en/">StatLine</a>. Since 2014 this data base has an open data web API based on the OData protocol. The <a href="https://CRAN.R-project.org/package=cbsodataR">cbsodataR</a> package allows for retrieving data right into R using this API.</p>
<p>A new version of the web api has been developed which is based on the OData4 protocol. This OData4 API contains major changes in how the metadata and data is transported, hence this package <code>cbsodata4</code>. Since the old web api will be phased out in due time, <code>cbsodata4</code> is the successor of <code>cbsodataR</code>.</p>
<p>This document describes how to use <code>cbsodata4</code> to download data (and meta data) from Statistics Netherlands. It offers very similar functions as <code>cbsodataR</code>, so should be familiar to users of <code>cbsodataR</code>, but there are differences so carefully check your code.</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw"><a href="https://github.com/statistiekcbs/cbsodata4">cbsodata4</a></span>)
</pre></div>
<div id="list-of-datasets-toc" class="section level2">
<h2 class="hasAnchor">
<a href="#list-of-datasets-toc" class="anchor"></a>List of datasets (toc)</h2>
<p>A list of datasets that are available can be loaded with with <code><a href="../reference/cbs4_get_datasets.html">cbs4_get_datasets()</a></code> (<code><a href="../reference/cbs4_get_datasets.html">cbs4_get_toc()</a></code> is an alias)</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="kw">datasets</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_get_datasets.html">cbs4_get_datasets</a></span>()
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw">datasets</span>[,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Identifier"</span>, <span class="st">"Title"</span>, <span class="st">"Modified"</span>)])
</pre></div>
<div class="kable-table">
<table class="table">
<colgroup>
<col width="2%">
<col width="10%">
<col width="77%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">Identifier</th>
<th align="left">Title</th>
<th align="left">Modified</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">4</td>
<td align="left">80072ned</td>
<td align="left">Ziekteverzuimpercentage; bedrijfstakken (SBI 2008) en bedrijfsgrootte</td>
<td align="left">2020-06-19</td>
</tr>
<tr class="even">
<td align="left">5</td>
<td align="left">80784ned</td>
<td align="left">Landbouw; arbeidskrachten naar regio</td>
<td align="left">2020-03-03</td>
</tr>
<tr class="odd">
<td align="left">6</td>
<td align="left">81075ned</td>
<td align="left">Werkloze beroepsbevolking; werkloosheidsduur en persoonskenmerken 2003-2018</td>
<td align="left">2020-01-23</td>
</tr>
<tr class="even">
<td align="left">7</td>
<td align="left">81575NED</td>
<td align="left">Vestigingen van bedrijven; bedrijfstak, gemeente</td>
<td align="left">2020-04-08</td>
</tr>
<tr class="odd">
<td align="left">8</td>
<td align="left">82245NED</td>
<td align="left">Bevolking en huishoudens; viercijferige postcode, 1 januari 2013</td>
<td align="left">2019-08-23</td>
</tr>
<tr class="even">
<td align="left">9</td>
<td align="left">82807NED</td>
<td align="left">Werkzame beroepsbevolking; bedrijf</td>
<td align="left">2019-11-29</td>
</tr>
</tbody>
</table>
</div>
<p>Using an “Identifier” from <code>cbs4_get_datasets</code> information on the table can be retrieved with <code>cbs4_get_metadata</code></p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="kw">meta_petrol</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_get_metadata.html">cbs4_get_metadata</a></span>(<span class="st">"80416ned"</span>)
<span class="kw">meta_petrol</span>
<span class="co">#&gt; cbs odatav4: '80416ned':</span>
<span class="co">#&gt; "Pompprijzen motorbrandstoffen; brandstofsoort, per dag"</span>
<span class="co">#&gt; dimensions: Perioden</span>
<span class="co">#&gt; For more info use 'str(x)' or 'names(x)' to find out its properties.</span>
</pre></div>
<p>The meta object contains all metadata properties of cbsodata in the form of <code>data.frame</code>s. Each <code>data.frame</code> describes properties of the CBS table: “Dimensions”, “MeasureCodes” and one ore more “&lt;Dimension&gt;Codes” describing the meta data of the borders of a SN table.</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="kw">meta_petrol</span>)
<span class="co">#&gt; [1] "Dimensions"     "MeasureCodes"   "PeriodenGroups" "PeriodenCodes" </span>
<span class="co">#&gt; [5] "Properties"</span>
<span class="kw">meta_petrol</span><span class="op">$</span><span class="kw">MeasureCodes</span>[, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>]
</pre></div>
<div class="kable-table">
<table class="table">
<thead><tr class="header">
<th align="left">Identifier</th>
<th align="right">Index</th>
<th align="left">Title</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">E006512</td>
<td align="right">1</td>
<td align="left">Benzine Euro95</td>
</tr>
<tr class="even">
<td align="left">E006528</td>
<td align="right">2</td>
<td align="left">Diesel</td>
</tr>
<tr class="odd">
<td align="left">E006498</td>
<td align="right">3</td>
<td align="left">LPG</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="kw">meta_petrol</span><span class="op">$</span><span class="kw">Dimensions</span>
</pre></div>
<div class="kable-table">
<table class="table">
<thead><tr class="header">
<th align="left">Identifier</th>
<th align="left">Title</th>
<th align="left">Description</th>
<th align="left">Kind</th>
<th align="left">MapYear</th>
<th align="left">ReleasePolicy</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">Perioden</td>
<td align="left">Perioden</td>
<td align="left"></td>
<td align="left">TimeDimension</td>
<td align="left">NA</td>
<td align="left">False</td>
</tr></tbody>
</table>
</div>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="co"># just 1 dimension with the following categories:</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw">meta_petrol</span><span class="op">$</span><span class="kw">PeriodenCodes</span>)
</pre></div>
<div class="kable-table">
<table class="table">
<thead><tr class="header">
<th align="left">Identifier</th>
<th align="right">Index</th>
<th align="left">Title</th>
<th align="left">Description</th>
<th align="left">DimensionGroupId</th>
<th align="left">Status</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">20060101</td>
<td align="right">1</td>
<td align="left">2006 zondag 1 januari</td>
<td align="left"></td>
<td align="left">0</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">20060102</td>
<td align="right">2</td>
<td align="left">2006 maandag 2 januari</td>
<td align="left"></td>
<td align="left">0</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">20060103</td>
<td align="right">3</td>
<td align="left">2006 dinsdag 3 januari</td>
<td align="left"></td>
<td align="left">0</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">20060104</td>
<td align="right">4</td>
<td align="left">2006 woensdag 4 januari</td>
<td align="left"></td>
<td align="left">0</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">20060105</td>
<td align="right">5</td>
<td align="left">2006 donderdag 5 januari</td>
<td align="left"></td>
<td align="left">0</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">20060106</td>
<td align="right">6</td>
<td align="left">2006 vrijdag 6 januari</td>
<td align="left"></td>
<td align="left">0</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="data-retrieval" class="section level2">
<h2 class="hasAnchor">
<a href="#data-retrieval" class="anchor"></a>Data retrieval</h2>
<p>With <code>cbs4_get_observations</code> and <code>cbs4_get_data</code> data can be retrieved. By default this will be downloaded in a temporary directory, but this can be set explicitly with the argument <code>download_dir</code>.</p>
<p><code>cbs4_get_observations</code> is the format in which the data is downloaded from Statistic Netherlands (CBS). It is in so-called long format. It contains one <code>Measure</code> column, describing the topics/variable, one <code>Value</code> column describing the statistical value, one or more Dimension columns and some extra columns with value specific metadata.</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="kw">obs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_get_observations.html">cbs4_get_observations</a></span>(<span class="st">"80416ned"</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw">obs</span>)
</pre></div>
<div class="kable-table">
<table class="table">
<thead><tr class="header">
<th align="right">Id</th>
<th align="left">Measure</th>
<th align="left">ValueAttribute</th>
<th align="right">Value</th>
<th align="right">Perioden</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="left">E006512</td>
<td align="left">None</td>
<td align="right">1.325</td>
<td align="right">20060101</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">E006528</td>
<td align="left">None</td>
<td align="right">1.003</td>
<td align="right">20060101</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">E006498</td>
<td align="left">None</td>
<td align="right">0.543</td>
<td align="right">20060101</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">E006512</td>
<td align="left">None</td>
<td align="right">1.328</td>
<td align="right">20060102</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="left">E006528</td>
<td align="left">None</td>
<td align="right">1.007</td>
<td align="right">20060102</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="left">E006498</td>
<td align="left">None</td>
<td align="right">0.542</td>
<td align="right">20060102</td>
</tr>
</tbody>
</table>
</div>
<p><code>cbs4_get_data</code> returns the data in so-called wide format in which each <code>Measure</code> has its own column. For many uses this is a more natural format. It is a pivoted version of <code><a href="../reference/cbs4_get_observations.html">cbs4_get_observations()</a></code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="co"># same data, but pivoted</span>
<span class="kw">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_get_data.html">cbs4_get_data</a></span>(<span class="st">"80416ned"</span>, name_measure_columns = <span class="fl">FALSE</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw">data</span>, <span class="fl">2</span>)
</pre></div>
<div class="kable-table">
<table class="table">
<thead><tr class="header">
<th align="right">Perioden</th>
<th align="right">E006498</th>
<th align="right">E006512</th>
<th align="right">E006528</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">20060101</td>
<td align="right">0.543</td>
<td align="right">1.325</td>
<td align="right">1.003</td>
</tr>
<tr class="even">
<td align="right">20060102</td>
<td align="right">0.542</td>
<td align="right">1.328</td>
<td align="right">1.007</td>
</tr>
</tbody>
</table>
</div>
<p>By default the names of the columns are more readable with <code>cbs4_get_data</code></p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="co"># same data, but pivoted</span>
<span class="kw">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_get_data.html">cbs4_get_data</a></span>(<span class="st">"80416ned"</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw">data</span>, <span class="fl">2</span>)
</pre></div>
<div class="kable-table">
<table class="table">
<thead><tr class="header">
<th align="right">Perioden</th>
<th align="right">LPG</th>
<th align="right">Benzine Euro95</th>
<th align="right">Diesel</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">20060101</td>
<td align="right">0.543</td>
<td align="right">1.325</td>
<td align="right">1.003</td>
</tr>
<tr class="even">
<td align="right">20060102</td>
<td align="right">0.542</td>
<td align="right">1.328</td>
<td align="right">1.007</td>
</tr>
</tbody>
</table>
</div>
<div id="adding-category-label-columns" class="section level3">
<h3 class="hasAnchor">
<a href="#adding-category-label-columns" class="anchor"></a>Adding category label columns</h3>
<p>The Dimension and Measure columns use codes/keys/identifiers to describe categories. These can be found in the metadata, but can also be automatically added using <code>cbs4_add_label_columns</code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit">
<span class="kw">obs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_get_observations.html">cbs4_get_observations</a></span>(<span class="st">"80416ned"</span>)
<span class="kw">obs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_add_label_columns.html">cbs4_add_label_columns</a></span>(<span class="kw">obs</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw">obs</span>)
</pre></div>
<div class="kable-table">
<table class="table">
<thead><tr class="header">
<th align="right">Id</th>
<th align="left">Measure</th>
<th align="left">MeasureLabel</th>
<th align="left">ValueAttribute</th>
<th align="right">Value</th>
<th align="right">Perioden</th>
<th align="left">PeriodenLabel</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="left">E006512</td>
<td align="left">Benzine Euro95</td>
<td align="left">None</td>
<td align="right">1.325</td>
<td align="right">20060101</td>
<td align="left">2006 zondag 1 januari</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">E006528</td>
<td align="left">Diesel</td>
<td align="left">None</td>
<td align="right">1.003</td>
<td align="right">20060101</td>
<td align="left">2006 zondag 1 januari</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">E006498</td>
<td align="left">LPG</td>
<td align="left">None</td>
<td align="right">0.543</td>
<td align="right">20060101</td>
<td align="left">2006 zondag 1 januari</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">E006512</td>
<td align="left">Benzine Euro95</td>
<td align="left">None</td>
<td align="right">1.328</td>
<td align="right">20060102</td>
<td align="left">2006 maandag 2 januari</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="left">E006528</td>
<td align="left">Diesel</td>
<td align="left">None</td>
<td align="right">1.007</td>
<td align="right">20060102</td>
<td align="left">2006 maandag 2 januari</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="left">E006498</td>
<td align="left">LPG</td>
<td align="left">None</td>
<td align="right">0.542</td>
<td align="right">20060102</td>
<td align="left">2006 maandag 2 januari</td>
</tr>
</tbody>
</table>
</div>
<p>or</p>
<div class="sourceCode" id="cb11"><pre class="downlit">
<span class="kw">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_get_data.html">cbs4_get_data</a></span>(<span class="st">"80416ned"</span>)
<span class="kw">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_add_label_columns.html">cbs4_add_label_columns</a></span>(<span class="kw">data</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw">data</span>, <span class="fl">2</span>)
</pre></div>
<div class="kable-table">
<table class="table">
<thead><tr class="header">
<th align="right">Perioden</th>
<th align="left">PeriodenLabel</th>
<th align="right">LPG</th>
<th align="right">Benzine Euro95</th>
<th align="right">Diesel</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">20060101</td>
<td align="left">2006 zondag 1 januari</td>
<td align="right">0.543</td>
<td align="right">1.325</td>
<td align="right">1.003</td>
</tr>
<tr class="even">
<td align="right">20060102</td>
<td align="left">2006 maandag 2 januari</td>
<td align="right">0.542</td>
<td align="right">1.328</td>
<td align="right">1.007</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="adding-date-column" class="section level3">
<h3 class="hasAnchor">
<a href="#adding-date-column" class="anchor"></a>Adding Date column</h3>
<p>The period/time columns of Statistics Netherlands (CBS) contain coded time periods: e.g. 2018JJ00 (i.e. 2018), 2018KW03 (i.e. 2018 Q3), 2016MM04 (i.e. 2016 April). With <code>cbs4_add_date_column</code> the time periods will be converted and added to the data:</p>
<div class="sourceCode" id="cb12"><pre class="downlit">
<span class="kw">obs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_get_observations.html">cbs4_get_observations</a></span>(<span class="st">"80416ned"</span>)
<span class="kw">obs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_add_date_column.html">cbs4_add_date_column</a></span>(<span class="kw">obs</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw">obs</span>)
</pre></div>
<div class="kable-table">
<table class="table">
<thead><tr class="header">
<th align="right">Id</th>
<th align="left">Measure</th>
<th align="left">ValueAttribute</th>
<th align="right">Value</th>
<th align="right">Perioden</th>
<th align="left">Perioden_Date</th>
<th align="left">Perioden_freq</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="left">E006512</td>
<td align="left">None</td>
<td align="right">1.325</td>
<td align="right">20060101</td>
<td align="left">2006-01-01</td>
<td align="left">D</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">E006528</td>
<td align="left">None</td>
<td align="right">1.003</td>
<td align="right">20060101</td>
<td align="left">2006-01-01</td>
<td align="left">D</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">E006498</td>
<td align="left">None</td>
<td align="right">0.543</td>
<td align="right">20060101</td>
<td align="left">2006-01-01</td>
<td align="left">D</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">E006512</td>
<td align="left">None</td>
<td align="right">1.328</td>
<td align="right">20060102</td>
<td align="left">2006-01-02</td>
<td align="left">D</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="left">E006528</td>
<td align="left">None</td>
<td align="right">1.007</td>
<td align="right">20060102</td>
<td align="left">2006-01-02</td>
<td align="left">D</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="left">E006498</td>
<td align="left">None</td>
<td align="right">0.542</td>
<td align="right">20060102</td>
<td align="left">2006-01-02</td>
<td align="left">D</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb13"><pre class="downlit">

<span class="kw">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_get_data.html">cbs4_get_data</a></span>(<span class="st">"80416ned"</span>)
<span class="kw">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_add_date_column.html">cbs4_add_date_column</a></span>(<span class="kw">data</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw">data</span>)
</pre></div>
<div class="kable-table">
<table class="table">
<thead><tr class="header">
<th align="right">Perioden</th>
<th align="left">Perioden_Date</th>
<th align="left">Perioden_freq</th>
<th align="right">LPG</th>
<th align="right">Benzine Euro95</th>
<th align="right">Diesel</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">20060101</td>
<td align="left">2006-01-01</td>
<td align="left">D</td>
<td align="right">0.543</td>
<td align="right">1.325</td>
<td align="right">1.003</td>
</tr>
<tr class="even">
<td align="right">20060102</td>
<td align="left">2006-01-02</td>
<td align="left">D</td>
<td align="right">0.542</td>
<td align="right">1.328</td>
<td align="right">1.007</td>
</tr>
<tr class="odd">
<td align="right">20060103</td>
<td align="left">2006-01-03</td>
<td align="left">D</td>
<td align="right">0.540</td>
<td align="right">1.332</td>
<td align="right">1.007</td>
</tr>
<tr class="even">
<td align="right">20060104</td>
<td align="left">2006-01-04</td>
<td align="left">D</td>
<td align="right">0.550</td>
<td align="right">1.348</td>
<td align="right">1.020</td>
</tr>
<tr class="odd">
<td align="right">20060105</td>
<td align="left">2006-01-05</td>
<td align="left">D</td>
<td align="right">0.550</td>
<td align="right">1.347</td>
<td align="right">1.021</td>
</tr>
<tr class="even">
<td align="right">20060106</td>
<td align="left">2006-01-06</td>
<td align="left">D</td>
<td align="right">0.549</td>
<td align="right">1.353</td>
<td align="right">1.023</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="adding-a-unit-column" class="section level3">
<h3 class="hasAnchor">
<a href="#adding-a-unit-column" class="anchor"></a>Adding a Unit column</h3>
<p>Each <code>Measure</code> has a measure unit, which can be added to observations with <code><a href="../reference/cbs4_add_unit_column.html">cbs4_add_unit_column()</a></code></p>
<div class="sourceCode" id="cb14"><pre class="downlit">
<span class="kw">obs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_get_observations.html">cbs4_get_observations</a></span>(<span class="st">"80416ned"</span>)
<span class="kw">obs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_add_unit_column.html">cbs4_add_unit_column</a></span>(<span class="kw">obs</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw">obs</span>)
</pre></div>
<div class="kable-table">
<table class="table">
<thead><tr class="header">
<th align="right">Id</th>
<th align="left">Measure</th>
<th align="left">ValueAttribute</th>
<th align="right">Value</th>
<th align="left">Unit</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="left">E006512</td>
<td align="left">None</td>
<td align="right">1.325</td>
<td align="left">euro/liter</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">E006528</td>
<td align="left">None</td>
<td align="right">1.003</td>
<td align="left">euro/liter</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">E006498</td>
<td align="left">None</td>
<td align="right">0.543</td>
<td align="left">euro/liter</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">E006512</td>
<td align="left">None</td>
<td align="right">1.328</td>
<td align="left">euro/liter</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="left">E006528</td>
<td align="left">None</td>
<td align="right">1.007</td>
<td align="left">euro/liter</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="left">E006498</td>
<td align="left">None</td>
<td align="right">0.542</td>
<td align="left">euro/liter</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="filter-data-before-download" class="section level2">
<h2 class="hasAnchor">
<a href="#filter-data-before-download" class="anchor"></a>Filter data before download</h2>
<p>It is possible to restrict the download using filter statements. This may shorten the download time considerably.</p>
<div id="filter" class="section level3">
<h3 class="hasAnchor">
<a href="#filter" class="anchor"></a>Filter</h3>
<p>Filter statements for the columns can be used to restrict the download. Note the following:</p>
<ul>
<li>To filter you will need to use the values found in the <code>Identifier</code> column in the <code>cbs4_get_metadata</code> objects. e.g. for year 2020, the code is “2020JJ00”.</li>
</ul>
<!-- end list --><div class="sourceCode" id="cb15"><pre class="downlit">
<span class="kw">meta</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_get_metadata.html">cbs4_get_metadata</a></span>(<span class="st">"60006"</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span>(<span class="kw">meta</span><span class="op">$</span><span class="kw">PeriodenCodes</span>)
</pre></div>
<div class="kable-table">
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="left">Identifier</th>
<th align="right">Index</th>
<th align="left">Title</th>
<th align="left">Description</th>
<th align="left">DimensionGroupId</th>
<th align="left">Status</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">147</td>
<td align="left">2019KW02</td>
<td align="right">147</td>
<td align="left">2019 2e kwartaal</td>
<td align="left"></td>
<td align="left">0</td>
<td align="left">Definitief</td>
</tr>
<tr class="even">
<td align="left">148</td>
<td align="left">2019KW03</td>
<td align="right">148</td>
<td align="left">2019 3e kwartaal</td>
<td align="left">Voorlopige cijfers</td>
<td align="left">0</td>
<td align="left">Voorlopig</td>
</tr>
<tr class="odd">
<td align="left">149</td>
<td align="left">2019KW04</td>
<td align="right">149</td>
<td align="left">2019 4e kwartaal</td>
<td align="left">Voorlopige cijfers</td>
<td align="left">0</td>
<td align="left">Voorlopig</td>
</tr>
<tr class="even">
<td align="left">150</td>
<td align="left">2019JJ00</td>
<td align="right">150</td>
<td align="left">2019</td>
<td align="left">Voorlopige cijfers</td>
<td align="left">1</td>
<td align="left">Voorlopig</td>
</tr>
<tr class="odd">
<td align="left">151</td>
<td align="left">2020KW01</td>
<td align="right">151</td>
<td align="left">2020 1e kwartaal</td>
<td align="left">Voorlopige cijfers</td>
<td align="left">0</td>
<td align="left">Voorlopig</td>
</tr>
<tr class="even">
<td align="left">152</td>
<td align="left">2020KW02</td>
<td align="right">152</td>
<td align="left">2020 2e kwartaal</td>
<td align="left">Voorlopige cijfers</td>
<td align="left">0</td>
<td align="left">Voorlopig</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb16"><pre class="downlit">
<span class="kw">meta</span><span class="op">$</span><span class="kw">MeasureCodes</span>[,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Identifier"</span>,<span class="st">"Title"</span>)]
</pre></div>
<div class="kable-table">
<table class="table">
<thead><tr class="header">
<th align="left">Identifier</th>
<th align="left">Title</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">M003026</td>
<td align="left">Theoretisch beschikbare uren</td>
</tr>
<tr class="even">
<td align="left">M002994_2</td>
<td align="left">Totaal niet-productieve uren</td>
</tr>
<tr class="odd">
<td align="left">M003031</td>
<td align="left">Vorst- en neerslagverlet</td>
</tr>
<tr class="even">
<td align="left">M003013</td>
<td align="left">Overig</td>
</tr>
<tr class="odd">
<td align="left">M003019</td>
<td align="left">Productieve uren</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>To filter for values in a column add <code>&lt;column_name&gt; = values</code> to <code>cbs4_get_observations</code> (or <code>cbs4_get_data</code>) e.g. <code>Perioden = c("2019KW04", "2020KW01")</code>
</li>
</ul>
<!-- end list --><div class="sourceCode" id="cb17"><pre class="downlit">
<span class="kw">obs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_get_observations.html">cbs4_get_observations</a></span>(<span class="st">"60006"</span>
                            , Measure = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"M003026"</span>,<span class="st">"M003019"</span>)     <span class="co"># selection on Measures</span>
                            , Perioden = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"2019KW04"</span>, <span class="st">"2020KW01"</span>) <span class="co"># selection on Perioden</span>
                            )
<span class="fu"><a href="../reference/cbs4_add_label_columns.html">cbs4_add_label_columns</a></span>(<span class="kw">obs</span>)
</pre></div>
<div class="kable-table">
<table class="table">
<thead><tr class="header">
<th align="right">Id</th>
<th align="left">Measure</th>
<th align="left">MeasureLabel</th>
<th align="left">ValueAttribute</th>
<th align="right">Value</th>
<th align="left">Perioden</th>
<th align="left">PeriodenLabel</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">740</td>
<td align="left">M003026</td>
<td align="left">Theoretisch beschikbare uren</td>
<td align="left">None</td>
<td align="right">530</td>
<td align="left">2019KW04</td>
<td align="left">2019 4e kwartaal</td>
</tr>
<tr class="even">
<td align="right">744</td>
<td align="left">M003019</td>
<td align="left">Productieve uren</td>
<td align="left">None</td>
<td align="right">370</td>
<td align="left">2019KW04</td>
<td align="left">2019 4e kwartaal</td>
</tr>
<tr class="odd">
<td align="right">750</td>
<td align="left">M003026</td>
<td align="left">Theoretisch beschikbare uren</td>
<td align="left">None</td>
<td align="right">520</td>
<td align="left">2020KW01</td>
<td align="left">2020 1e kwartaal</td>
</tr>
<tr class="even">
<td align="right">754</td>
<td align="left">M003019</td>
<td align="left">Productieve uren</td>
<td align="left">None</td>
<td align="right">400</td>
<td align="left">2020KW01</td>
<td align="left">2020 1e kwartaal</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>To filter for values in a column that have a substring e.g. “JJ” you can use <code>&lt;column_name&gt; = contains(&lt;substring&gt;)</code> to <code>cbs4_get_data</code> e.g.  <code>Perioden = contains("JJ")</code>
</li>
</ul>
<!-- end list --><div class="sourceCode" id="cb18"><pre class="downlit">
<span class="kw">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_get_data.html">cbs4_get_data</a></span>(<span class="st">"60006"</span>
                     , Measure = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"M003026"</span>,<span class="st">"M003019"</span>)     <span class="co"># selection on Measures</span>
                     , Perioden = <span class="fu"><a href="../reference/contains.html">contains</a></span>(<span class="st">"2019"</span>) <span class="co"># retrieve all periods with 2019</span>
                     )
<span class="kw">data</span>
</pre></div>
<div class="kable-table">
<table class="table">
<thead><tr class="header">
<th align="left">Perioden</th>
<th align="right">Productieve uren</th>
<th align="right">Theoretisch beschikbare uren</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2019JJ00</td>
<td align="right">1475</td>
<td align="right">2090</td>
</tr>
<tr class="even">
<td align="left">2019KW01</td>
<td align="right">375</td>
<td align="right">510</td>
</tr>
<tr class="odd">
<td align="left">2019KW02</td>
<td align="right">415</td>
<td align="right">520</td>
</tr>
<tr class="even">
<td align="left">2019KW03</td>
<td align="right">320</td>
<td align="right">530</td>
</tr>
<tr class="odd">
<td align="left">2019KW04</td>
<td align="right">370</td>
<td align="right">530</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>To combine values and substring use the “|” operator: <code>Periods = contains("2019") | "2020KW01"</code>
</li>
</ul>
<!-- end list --><div class="sourceCode" id="cb19"><pre class="downlit">
<span class="kw">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_get_data.html">cbs4_get_data</a></span>(<span class="st">"60006"</span>
                     , Measure = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"M003026"</span>,<span class="st">"M003019"</span>)         <span class="co"># selection on Measures</span>
                     , Perioden = <span class="fu"><a href="../reference/contains.html">contains</a></span>(<span class="st">"2019"</span>) <span class="op">|</span> <span class="st">"2020KW01"</span> <span class="co"># retrieve all periods with 2019</span>
                     )
<span class="kw">data</span>
</pre></div>
<div class="kable-table">
<table class="table">
<thead><tr class="header">
<th align="left">Perioden</th>
<th align="right">Productieve uren</th>
<th align="right">Theoretisch beschikbare uren</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2019JJ00</td>
<td align="right">1475</td>
<td align="right">2090</td>
</tr>
<tr class="even">
<td align="left">2019KW01</td>
<td align="right">375</td>
<td align="right">510</td>
</tr>
<tr class="odd">
<td align="left">2019KW02</td>
<td align="right">415</td>
<td align="right">520</td>
</tr>
<tr class="even">
<td align="left">2019KW03</td>
<td align="right">320</td>
<td align="right">530</td>
</tr>
<tr class="odd">
<td align="left">2019KW04</td>
<td align="right">370</td>
<td align="right">530</td>
</tr>
<tr class="even">
<td align="left">2020KW01</td>
<td align="right">400</td>
<td align="right">520</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="query-with-odata-v4-syntax" class="section level3">
<h3 class="hasAnchor">
<a href="#query-with-odata-v4-syntax" class="anchor"></a>query with odata v4 syntax</h3>
<p>For the adventurous, it is possible to specify a <a href="https://www.odata.org/documentation/">odata v4 query</a> themselves.</p>
<div class="sourceCode" id="cb20"><pre class="downlit">
  <span class="co"># supply your own odata 4 query</span>
  <span class="fu"><a href="../reference/cbs4_get_data.html">cbs4_get_data</a></span>(<span class="st">"84287NED"</span>, query = <span class="st">"$filter=Perioden eq '2019MM12'"</span>)
</pre></div>
<div class="kable-table">
<table class="table">
<thead><tr class="header">
<th align="left">BedrijfstakkenBranchesSBI2008</th>
<th align="left">Perioden</th>
<th align="right">Vacature-indicator</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">300007</td>
<td align="left">2019MM12</td>
<td align="right">0.23</td>
</tr>
<tr class="even">
<td align="left">307500</td>
<td align="left">2019MM12</td>
<td align="right">0.07</td>
</tr>
<tr class="odd">
<td align="left">350000</td>
<td align="left">2019MM12</td>
<td align="right">0.15</td>
</tr>
<tr class="even">
<td align="left">T001081</td>
<td align="left">2019MM12</td>
<td align="right">0.21</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="download-data" class="section level2">
<h2 class="hasAnchor">
<a href="#download-data" class="anchor"></a>Download data</h2>
<p>Data and metadata of a table can also be downloaded explicitly by using <code>cbs4_download</code>. This can be an option if you don’t want to load the data into memory (which both <code>cbs4_get_data</code> and <code>cbs4_get_observations</code> do), but only store it on disk.</p>
<div class="sourceCode" id="cb21"><pre class="downlit">
<span class="fu"><a href="../reference/cbs4_download.html">cbs4_download</a></span>(<span class="st">"60006"</span>, download_dir = <span class="st">"./60006"</span>) <span class="co"># will download data and metadata in csv format.</span>
</pre></div>
</div>
<div id="other-catalogs" class="section level2">
<h2 class="hasAnchor">
<a href="#other-catalogs" class="anchor"></a>Other catalogs</h2>
<p>CBS / Statistics Netherlands also offers collections of datasets that are not part of the main collections: so-called catalogs. These can be retrieved with <code><a href="../reference/cbs4_get_catalogs.html">cbs4_get_catalogs()</a></code>.</p>
<div class="sourceCode" id="cb22"><pre class="downlit">
<span class="kw">catalogs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_get_catalogs.html">cbs4_get_catalogs</a></span>() 
<span class="kw">catalogs</span>[,<span class="fl">1</span><span class="op">:</span><span class="fl">2</span>]
</pre></div>
<div class="kable-table">
<table class="table">
<thead><tr class="header">
<th align="left">Identifier</th>
<th align="left">Title</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">CBS</td>
<td align="left">CBS databank StatLine</td>
</tr>
<tr class="even">
<td align="left">CBS-asd</td>
<td align="left">CBS aanvullend</td>
</tr>
</tbody>
</table>
</div>
<p>Another options is to set the <code>catalog</code> argument in <code>cbs4_get_datasets</code> to <code>NULL</code></p>
<div class="sourceCode" id="cb23"><pre class="downlit">
<span class="kw">ds</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_get_datasets.html">cbs4_get_datasets</a></span>()
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(<span class="kw">ds</span>)
<span class="co">#&gt; [1] 53</span>

<span class="kw">ds_all</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_get_datasets.html">cbs4_get_datasets</a></span>(catalog = <span class="kw">NULL</span>)
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(<span class="kw">ds_all</span>)
<span class="co">#&gt; [1] 56</span>

<span class="kw">ds_asd</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cbs4_get_datasets.html">cbs4_get_datasets</a></span>(catalog = <span class="st">"CBS-asd"</span>)
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(<span class="kw">ds_asd</span>)
<span class="co">#&gt; [1] 3</span>
</pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Edwin de Jonge.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
